// Generated by CoffeeScript 1.9.2
$(function() {
  var remove_samples_is_valid, validate_pylmm_permutation, validate_remove_samples;
  remove_samples_is_valid = function(input) {
    var i, len, new_splats, pattern, splat, splats;
    if (_.trim(input).length === 0) {
      return true;
    }
    splats = input.split(",");
    new_splats = (function() {
      var i, len, results;
      results = [];
      for (i = 0, len = splats.length; i < len; i++) {
        input = splats[i];
        results.push(_.trim(input));
      }
      return results;
    })();
    console.log("new_splats:", new_splats);
    pattern = /^\d+\s*(?:-\s*\d+)?\s*$/;
    for (i = 0, len = new_splats.length; i < len; i++) {
      splat = new_splats[i];
      console.log("splat is:", splat);
      if (!splat.match(pattern)) {
        return false;
      }
    }
    return true;
  };
  validate_remove_samples = function() {

    /*
    Check if input for the remove samples function is valid and notify the user if not
     */
    var input;
    input = $('#remove_samples_field').val();
    console.log("input is:", input);
    if (remove_samples_is_valid(input)) {
      console.log("input is valid");
      return $('#remove_samples_invalid').hide();
    } else {
      console.log("input isn't valid");
      return $('#remove_samples_invalid').show();
    }
  };
  validate_pylmm_permutation = function() {

    /*
    Check if number of permutations is high (and will take long to compute)
     */
    var input;
    input = $('input[name=num_perm_pylmm]').val();
    console.log("input:", input);
    if (input > 20) {
      return $('#permutations_alert').show();
    } else {
      return $('#permutations_alert').hide();
    }
  };
  $('input[name=num_perm_pylmm]').change(validate_pylmm_permutation);
  return $('#remove_samples_field').change(validate_remove_samples);
});
